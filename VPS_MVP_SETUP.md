# ðŸŽ¯ MVP Setup: Ð’Ð°Ñˆ VPS + Supabase Free
## Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ: $0/Ð¼ÐµÑÑÑ† (VPS ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ)

---

## ðŸ’¡ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

```
         Internet
            â”‚
            â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Nginx   â”‚ :80, :443 (SSL)
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
           â”‚
    â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
    â”ƒ   Ð’ÐÐ¨ VPS               â”ƒ
    â”ƒ   Docker Compose        â”ƒ
    â”ƒ                         â”ƒ
    â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
    â”ƒ  â”‚  NestJS Backend    â”‚ â”ƒ
    â”ƒ  â”‚  :3000             â”‚ â”ƒ
    â”ƒ  â”‚  â”œâ”€ Stockfish      â”‚ â”ƒ
    â”ƒ  â”‚  â”œâ”€ Leela          â”‚ â”ƒ
    â”ƒ  â”‚  â”œâ”€ Analysis       â”‚ â”ƒ
    â”ƒ  â”‚  â””â”€ Glicko-2       â”‚ â”ƒ
    â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
    â”ƒ            â”‚             â”ƒ
    â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
    â”ƒ  â”‚  Redis :6379       â”‚ â”ƒ
    â”ƒ  â”‚  (Cache Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¹)   â”‚ â”ƒ
    â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
    â”ƒ                         â”ƒ
    â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
    â”ƒ  â”‚  Frontend Build    â”‚ â”ƒ
    â”ƒ  â”‚  (static files)    â”‚ â”ƒ
    â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
    â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
           â”‚
           â”‚ HTTP API calls
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Supabase Free  â”‚
    â”‚  â”œâ”€ PostgreSQL  â”‚ 500MB
    â”‚  â”œâ”€ Realtime    â”‚ WebSocket
    â”‚  â”œâ”€ Auth        â”‚ JWT
    â”‚  â””â”€ Storage     â”‚ 50MB
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°

### 1. Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ
```
VPS:              $0/Ð¼ÐµÑ  (ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ)
Supabase Free:    $0/Ð¼ÐµÑ  âœ…
AI API (Deepseek): ~$0.30/Ð¼ÐµÑ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ð˜Ð¢ÐžÐ“Ðž:            $0.30/Ð¼ÐµÑ  ðŸ”¥
```

### 2. ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ
- âœ… **ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ** Ð½Ð°Ð´ Ð´Ð²Ð¸Ð¶ÐºÐ°Ð¼Ð¸ (Stockfish/Leela)
- âœ… **Ð¡Ð²Ð¾Ð¹ Redis** - Ð½ÐµÐ¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹ ÐºÐµÑˆ
- âœ… **ÐœÐ¾Ð¶ÐµÑ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ** Ñ‡Ñ‚Ð¾ ÑƒÐ³Ð¾Ð´Ð½Ð¾
- âœ… **SSH Ð´Ð¾ÑÑ‚ÑƒÐ¿** Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ

### 3. ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð°
- âœ… **Supabase Realtime** Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸ (Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ WebSocket)
- âœ… **Auto-generated API** (Ð½Ðµ Ð¿Ð¸ÑˆÐµÐ¼ CRUD endpoints)
- âœ… **Row Level Security** (Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ñ‡Ð¸Ñ‚Ð¾Ð²)
- âœ… **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ backup** (Supabase)

### 4. ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ
- âœ… **Ð›ÐµÐ³ÐºÐ¾ Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ** Ð½Ð° ÑÐ²Ð¾Ð¹ PostgreSQL Ð¿Ð¾Ñ‚Ð¾Ð¼
- âœ… **Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð² Supabase** Ð»ÐµÐ³ÐºÐ¾ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ (pg_dump)
- âœ… **ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾** Ð¸ Ñ€Ð°ÑÑ‚Ð¸ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾

---

## ðŸš€ Ð§Ñ‚Ð¾ Ð”ÐµÐ¿Ð»Ð¾Ð¸Ð¼ Ð½Ð° VPS

**Ð¢Ð¾Ð»ÑŒÐºÐ¾ 3 ÑÐµÑ€Ð²Ð¸ÑÐ°:**
1. **NestJS Backend** - Ð´Ð²Ð¸Ð¶ÐºÐ¸, Ð°Ð½Ð°Ð»Ð¸Ð·, Glicko-2
2. **Redis** - ÐºÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¹
3. **Nginx** - reverse proxy + SSL

**ÐÐ• Ð´ÐµÐ¿Ð»Ð¾Ð¸Ð¼:**
- âŒ PostgreSQL (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Supabase)
- âŒ Realtime WebSocket (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Supabase)
- âŒ Auth (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Supabase)

---

## ðŸ“¦ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ Ðº VPS

### ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ (Ð´Ð»Ñ MVP):
```
CPU:     1 vCPU
RAM:     1GB
Disk:    10GB
Traffic: 1TB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ÐŸÐ¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚: Ð»ÑŽÐ±Ð¾Ð¹ Ð´ÐµÑˆÐµÐ²Ñ‹Ð¹ VPS
```

### Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ (Ð´Ð»Ñ 10K Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹):
```
CPU:     2 vCPU
RAM:     2GB
Disk:    20GB
Traffic: 2TB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Hetzner CX11 (â‚¬3.79/Ð¼ÐµÑ)
          Contabo VPS S (â‚¬4.50/Ð¼ÐµÑ)
```

---

## ðŸŽ¯ Deployment Guide

Ð¡Ð¾Ð·Ð´Ð°ÑŽ:
1. `docker-compose.vps.yml` - Ñ‚Ð¾Ð»ÑŒÐºÐ¾ NestJS + Redis
2. `nginx/vps.conf` - ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ VPS
3. `scripts/deploy-vps.sh` - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ deployment
4. `.env.vps.example` - Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

---

## ðŸ“Š Scaling Path

### Ð¡Ñ‚Ð°Ñ€Ñ‚ (MVP):
```
VPS:              Ð²Ð°Ñˆ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹
Supabase:         Free (500MB, 50K MAU)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cost:             $0/Ð¼ÐµÑ
Users:            Ð´Ð¾ 10K
Games:            Ð´Ð¾ 100K/Ð¼ÐµÑ
```

### Ð Ð¾ÑÑ‚ (10K-50K Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹):
```
VPS:              Ñ‚Ð¾Ñ‚ Ð¶Ðµ
Supabase:         Free (Ð²ÑÐµ ÐµÑ‰Ðµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚!)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cost:             $0/Ð¼ÐµÑ  âœ…
```

### Upgrade (>50K Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹):
```
VPS:              Ñ‚Ð¾Ñ‚ Ð¶Ðµ (Ð¸Ð»Ð¸ upgrade RAM)
Supabase:         Pro $25/Ð¼ÐµÑ (8GB DB)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cost:             $25/Ð¼ÐµÑ
Users:            Ð´Ð¾ 100K
```

### Big Scale (>100K Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹):
```
VPS:              upgrade Ð¸Ð»Ð¸ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÐµÑ€Ð²ÐµÑ€
Supabase:         Pro $25/Ð¼ÐµÑ
Load Balancer:    Cloudflare (Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cost:             $25-50/Ð¼ÐµÑ
Users:            Ð´Ð¾ 500K
```

---

## ðŸ”„ ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ñ Supabase (ÐµÑÐ»Ð¸ Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±Ð¸Ñ‚ÑÑ)

### ÐšÐ¾Ð³Ð´Ð° Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° ÑÐ²Ð¾Ð¹ PostgreSQL:
- Ð‘Ð°Ð·Ð° > 8GB (Ð»Ð¸Ð¼Ð¸Ñ‚ Supabase Pro)
- ÐÑƒÐ¶ÐµÐ½ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð½Ð°Ð´ Ð‘Ð”
- Ð¡Ð¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡Ð½Ñ‹Ðµ PostgreSQL Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ
- Compliance Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ (data residency)

### ÐšÐ°Ðº Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ:
```bash
# 1. Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð¸Ð· Supabase
pg_dump $SUPABASE_DATABASE_URL > backup.sql

# 2. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ PostgreSQL Ð² docker-compose
# 3. Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚
psql $LOCAL_DATABASE_URL < backup.sql

# 4. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ .env
DATABASE_URL=postgresql://localhost:5432/chess

# 5. Frontend Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· API
```

**Downtime:** 5-10 Ð¼Ð¸Ð½ÑƒÑ‚
**Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ:** ÐÐ¸Ð·ÐºÐ°Ñ

---

## ðŸ’¡ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ

Ð”Ð»Ñ MVP ÑÑ‚Ð¾ **Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚**:

âœ… **$0/Ð¼ÐµÑÑÑ†** (VPS ÑƒÐ¶Ðµ Ð¾Ð¿Ð»Ð°Ñ‡ÐµÐ½)
âœ… **Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚** (Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ PostgreSQL)
âœ… **ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ** (Ð´Ð²Ð¸Ð¶ÐºÐ¸ Ð½Ð° Ð²Ð°ÑˆÐµÐ¼ VPS)
âœ… **Realtime Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸** (Supabase)
âœ… **Ð›ÐµÐ³ÐºÐ¾ scaling** (Ð¼Ð¾Ð¶Ð½Ð¾ Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ñ‚Ð¾Ð¼)

---

Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ? ðŸš€
