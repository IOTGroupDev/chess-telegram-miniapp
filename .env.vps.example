# =====================================
# VPS MVP Environment Variables
# =====================================

# ===================================
# Supabase Configuration (FREE TIER)
# ===================================
# Get from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# JWT Secret from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api (JWT Settings)
SUPABASE_JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters

# ===================================
# Telegram Bot Configuration (REQUIRED)
# ===================================
# Get from: https://t.me/BotFather
# 1. Start chat with @BotFather
# 2. Send /newbot and follow instructions
# 3. Copy the token (format: 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11)
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11

# ===================================
# Backend API URL
# ===================================
# Your domain or IP address
BACKEND_URL=https://api.yourdomain.com
# or for development:
# BACKEND_URL=http://YOUR_VPS_IP:3000

# ===================================
# Frontend URL (for CORS)
# ===================================
# Set to * to allow all origins (for Telegram Mini App)
# Or specify your frontend domain
FRONTEND_URL=*
# For production with specific domain:
# FRONTEND_URL=https://yourdomain.com

# ===================================
# Stockfish Configuration
# ===================================
# Number of CPU threads for Stockfish
# Recommended: 50% of your VPS CPU cores
STOCKFISH_THREADS=2

# Hash size in MB (for position cache)
# Recommended: 256-512MB
STOCKFISH_HASH_SIZE=512

# ===================================
# AI API Configuration
# ===================================
# Choose provider: deepseek, claude, openai, gpt4o-mini
AI_PROVIDER=deepseek

# Get from:
# Deepseek: https://platform.deepseek.com
# Claude: https://console.anthropic.com
# OpenAI: https://platform.openai.com
AI_API_KEY=sk-your-api-key-here

# ===================================
# CORS Configuration
# ===================================
# Allowed origins (comma-separated)
# For production, set your domain
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# For development, allow all:
# CORS_ORIGIN=*

# ===================================
# Domain Configuration (for SSL)
# ===================================
# ОПЦИОНАЛЬНО: Только если у вас есть домен и нужен SSL
# Если используете только IP - оставьте пустым или закомментируйте

DOMAIN=yourdomain.com
EMAIL=your-email@example.com

# EMAIL нужен для Let's Encrypt:
# - Уведомления об истечении сертификата
# - Восстановление сертификата
# - Важные обновления безопасности

# Без домена просто укажите:
# BACKEND_URL=http://YOUR_VPS_IP:3000
# И НЕ запускайте ./scripts/init-letsencrypt.sh

# ===================================
# Optional: Rate Limiting
# ===================================
# Requests per minute per IP
RATE_LIMIT_RPM=100

# Analysis requests per minute (expensive)
ANALYSIS_RATE_LIMIT_RPM=10

# ===================================
# Optional: Monitoring
# ===================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://...

# ===================================
# Instructions:
# ===================================
#
# 1. Copy this file:
#    cp .env.vps.example .env
#
# 2. Fill in Supabase credentials:
#    - Go to https://supabase.com
#    - Create project (FREE)
#    - Copy URL and keys from Settings > API
#
# 3. Get AI API key:
#    - Deepseek (recommended): https://platform.deepseek.com
#    - Sign up, get $5 free credit
#    - Create API key
#
# 4. Set your domain:
#    - Update DOMAIN and BACKEND_URL
#    - Or use IP for testing
#
# 5. Deploy:
#    docker-compose -f docker-compose.vps.yml up -d
#
# ===================================
